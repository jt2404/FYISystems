"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[736],{58518:function(e,n,i){i.d(n,{Z:function(){return C}});var t=i(1413),r=i(5289),a=i(65661),o=i(39157),s=i(20890),c=i(63366),l=i(87462),u=i(72791),d=i(59278),f=i(94419),m=i(66934),h=i(61020),p=i(75878),v=i(21217);function x(e){return(0,v.ZP)("MuiDialogActions",e)}(0,p.Z)("MuiDialogActions",["root","spacing"]);var g=i(80184),j=["className","disableSpacing"],Z=(0,m.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[n.root,!i.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,l.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),b=u.forwardRef((function(e,n){var i=(0,h.i)({props:e,name:"MuiDialogActions"}),t=i.className,r=i.disableSpacing,a=void 0!==r&&r,o=(0,c.Z)(i,j),s=(0,l.Z)({},i,{disableSpacing:a}),u=function(e){var n=e.classes,i={root:["root",!e.disableSpacing&&"spacing"]};return(0,f.Z)(i,x,n)}(s);return(0,g.jsx)(Z,(0,l.Z)({className:(0,d.Z)(u.root,t),ownerState:s,ref:n},o))})),y=i(94294);function C(e){var n=e.confirmDialog,i=e.setConfirmDialog;return(0,g.jsxs)(r.Z,{open:n.isOpen,children:[(0,g.jsx)(a.Z,{children:n.title}),(0,g.jsx)(o.Z,{children:(0,g.jsx)(s.Z,{variant:"h6",children:n.subTitle})}),(0,g.jsxs)(b,{children:[(0,g.jsx)(y.Z,{onClick:function(){return i((0,t.Z)((0,t.Z)({},n),{},{isOpen:!1}))},children:"No"}),(0,g.jsx)(y.Z,{onClick:n.onConfirm,children:"Yes"})]})]})}},5976:function(e,n,i){i.r(n),i.d(n,{default:function(){return q}});var t=i(89164),r=i(36314),a=i(57621),o=i(9585),s=i(697),c=i(6907),l=i(53919),u=i(1413),d=i(29439),f=i(72791),m=i(94420),h=i(44695),p=i(94294),v=i(61134),x=i(81724),g=i(41231),j=i(5324),Z=i(6522),b=i(51493),y=i(80184),C=x.Ry().shape({name:x.Z_().required("Name is required"),email:x.Z_().email("Invalid email").required("Email is required"),role:x.Z_().required("Role is required")}),_=[{id:"Admin",title:"Admin"},{id:"FinancialAdviser",title:"FinancialAdviser"},{id:"User",title:"User"}],w=function(e){var n=e.handleClose,i=e.currentRow,t=i,a=(0,m.I0)(),o=(0,v.cI)({resolver:(0,h.X)(C),defaultValues:t}),s=o.handleSubmit;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(g.Kl,{onClose:n,title:i._id?"Update User":"Add User",children:(0,y.jsxs)(Z.Z,{methods:o,onSubmit:s((function(e){var i={name:e.name,email:e.email,role:e.role};e._id?(i._id=e._id,a((0,b.Nq)(e._id,i))):a((0,b.cn)(i)),n()})),children:[(0,y.jsxs)(r.Z,{spacing:3,className:"css-1lwbda4-MuiStack-root",children:[(0,y.jsx)(j.au,{name:"name",label:"Name *",autoFocus:!0}),(0,y.jsx)(j.au,{name:"email",label:"Email *"}),(0,y.jsx)(j.Cc,{name:"role",label:"Role *",options:_})]}),(0,y.jsxs)(r.Z,{direction:"row",spacing:1,justifyContent:"flex-end",p:3,children:[(0,y.jsx)(p.Z,{onClick:n,children:"Cancel"}),(0,y.jsx)(p.Z,{type:"submit",variant:"contained",children:i._id?"Update":"Save"})]})]})})})},S=i(43865),N=i(73609),k=i(58518),A={_id:"",name:"",email:"",role:""},U=function(){var e=(0,f.useState)(A),n=(0,d.Z)(e,2),i=n[0],t=n[1],r=(0,f.useState)([]),a=(0,d.Z)(r,2),o=a[0],c=a[1],l=(0,f.useState)(!1),h=(0,d.Z)(l,2),p=h[0],v=h[1],x=(0,m.I0)(),g=(0,f.useState)({isOpen:!1,title:"",subTitle:""}),j=(0,d.Z)(g,2),Z=j[0],C=j[1],_=(0,m.v9)((function(e){return e.users.users}));(0,f.useEffect)((function(){x((0,b.uh)())}),[x]),(0,f.useEffect)((function(){if(_&&_.length>0){var e=_.map((function(e){return{id:e._id,_id:e._id,name:e.name,email:e.email,role:e.role}}));c(e)}}),[_]);var U=[{field:"name",headerName:"Name",width:200},{field:"email",headerName:"Email",width:250},{field:"role",headerName:"Role",width:150},{field:"action",headerName:"Action",width:100,renderCell:function(e){var n=e.row;return(0,y.jsxs)("strong",{children:["FinancialAdviser"!==n.role&&(0,y.jsx)(N.Z,{icon:"akar-icons:edit",onClick:R(n)}),(0,y.jsx)(N.Z,{icon:"ant-design:delete-outlined",onClick:q(n)})]})}}],q=function(e){return function(n){n.stopPropagation(),C({isOpen:!0,title:"Are you sure you want to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){return function(e){C((0,u.Z)((0,u.Z)({},Z),{},{isOpen:!1})),x((0,b.h8)(e._id)),v(!1)}(e)}})}},R=function(e){return function(n){n.stopPropagation(),t(e),v(!0)}};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",p:1}),(0,y.jsx)("div",{className:"main-table",children:o.length>0&&(0,y.jsx)(S.Z,{data:o,columns:U,getRowId:function(e){return e.id}})}),p&&(0,y.jsx)(w,{handleClose:function(){v(!1)},currentRow:i}),Z.isOpen&&(0,y.jsx)(k.Z,{confirmDialog:Z,setConfirmDialog:C})]})};function q(){var e=(0,l.K$)().themeStretch;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.ql,{children:(0,y.jsx)("title",{children:" Page Six "})}),(0,y.jsx)(t.Z,{maxWidth:!e&&"xl",children:(0,y.jsx)(r.Z,{spacing:5,children:(0,y.jsxs)(a.Z,{children:[(0,y.jsx)(o.Z,{title:"Custom",sx:{mb:2}}),(0,y.jsx)(s.Z,{sx:{height:390},children:(0,y.jsx)(U,{})})]})})})]})}},51493:function(e,n,i){i.d(n,{Nq:function(){return s},cn:function(){return o},h8:function(){return c},uh:function(){return a}});var t=i(24835),r=i(64675),a=function(){return function(e){e((0,r.K4)()),(0,t.U0)().then((function(n){e((0,r.wM)(n.data))})).catch((function(n){e((0,r.It)(n.message))}))}},o=function(e){return function(n){n((0,r.K4)()),(0,t.KL)(e).then((function(e){n((0,r.bi)(e.data)),n(a())})).catch((function(e){n((0,r.Ak)(e.message))}))}},s=function(e,n){return function(i){i((0,r.K4)()),(0,t.Al)(e,n).then((function(e){i((0,r.qB)(e.data)),i(a())})).catch((function(e){i((0,r.Ak)(e.message))}))}},c=function(e){return function(n){n((0,r.K4)()),(0,t.af)(e).then((function(){n((0,r.UU)(e)),n(a())})).catch((function(e){n((0,r.Ak)(e.message))}))}}},43865:function(e,n,i){i.d(n,{Z:function(){return o}});var t=i(81064),r=i(70039),a=i(80184);function o(e){var n=e.data,i=e.columns;return(0,a.jsx)(t._,{disableSelectionOnClick:!0,rows:n,columns:i,pagination:!0,components:{Toolbar:r.n},slots:{toolbar:r.n}})}},44695:function(e,n,i){i.d(n,{X:function(){return s}});var t=i(61134),r=function(e,n,i){if(e&&"reportValidity"in e){var r=(0,t.U2)(i,n);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},a=function(e,n){var i=function(i){var t=n.fields[i];t&&t.ref&&"reportValidity"in t.ref?r(t.ref,i,e):t.refs&&t.refs.forEach((function(n){return r(n,i,e)}))};for(var t in n.fields)i(t)},o=function(e,n){n.shouldUseNativeValidation&&a(e,n);var i={};for(var r in e){var o=(0,t.U2)(n.fields,r);(0,t.t8)(i,r,Object.assign(e[r],{ref:o&&o.ref}))}return i},s=function(e,n,i){return void 0===n&&(n={}),void 0===i&&(i={}),function(s,c,l){try{return Promise.resolve(function(t,o){try{var u=(n.context,Promise.resolve(e["sync"===i.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},n,{context:c}))).then((function(e){return l.shouldUseNativeValidation&&a({},l),{values:i.rawValues?s:e,errors:{}}})))}catch(r){return o(r)}return u&&u.then?u.then(void 0,o):u}(0,(function(e){if(!e.inner)throw e;return{values:{},errors:o((n=e,i=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,(n.inner||[]).reduce((function(e,n){if(e[n.path]||(e[n.path]={message:n.message,type:n.type}),i){var r=e[n.path].types,a=r&&r[n.type];e[n.path]=(0,t.KN)(n.path,i,e,n.type,a?[].concat(a,n.message):n.message)}return e}),{})),l)};var n,i})))}catch(r){return Promise.reject(r)}}}}}]);
//# sourceMappingURL=736.646dde1e.chunk.js.map