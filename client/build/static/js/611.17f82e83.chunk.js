"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[611],{69147:function(t,e,n){n.r(e),n.d(e,{default:function(){return q}});var i=n(89164),r=n(36314),a=n(57621),o=n(9585),c=n(697),d=n(6907),u=n(53919),l=n(29439),s=n(72791),f=n(94420),v=n(73609),h=n(85026),p=n(43865),m=n(1413),g=n(44695),x=n(94294),y=n(61134),b=n(81724),Z=n(41231),w=n(5324),_=n(6522),j=n(85834),A=n(51493),k=n(6557),C=n(80184),T=b.Ry().shape({user_id:b.Z_().required("User is required"),product_id:b.Z_().required("Product is required"),financialAdvisor_id:b.Z_().nullable(),date:b.Z_().required("Date is required"),startTime:b.Z_().required("Start Time is required"),endTime:b.Z_().required("End Time is required"),status:b.Z_().required("Status is required")}),S=[{id:"pending",title:"pending"},{id:"completed",title:"completed"},{id:"cancelled",title:"cancelled"}],D=function(t){var e=t.handleClose,n=t.currentRow,i=n,a=(0,f.I0)(),o=(0,s.useState)([]),c=(0,l.Z)(o,2),d=c[0],u=c[1],v=(0,f.v9)((function(t){return t.users.users})),p=(0,f.v9)((function(t){return t.Product.products})),b=(0,f.v9)((function(t){return t.financialAdvisors.financialAdvisors}));(0,s.useEffect)((function(){a((0,j.t2)()),a((0,A.uh)()),a((0,k.P7)())}),[a]),(0,s.useEffect)((function(){if(v&&v.length>0){var t=v.map((function(t){return{id:t._id,title:t.name}}));u((function(e){return(0,m.Z)((0,m.Z)({},e),{},{users:t})}))}if(p&&p.length>0){var e=p.map((function(t){return{id:t._id,title:t.name}}));u((function(t){return(0,m.Z)((0,m.Z)({},t),{},{products:e})}))}if(b&&b.length>0){var n=b.map((function(t){return{id:t._id,title:t.firstName}}));u((function(t){return(0,m.Z)((0,m.Z)({},t),{},{advisors:n})}))}}),[v,p,b]);var D=(0,y.cI)({resolver:(0,g.X)(T),defaultValues:i}),N=D.handleSubmit;return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(Z.Kl,{onClose:e,title:n._id?"Update Appointment":"Add Appointment",children:(0,C.jsxs)(_.Z,{methods:D,onSubmit:N((function(t){var n={userId:t.user_id,productId:t.product_id,financialAdvisorId:""!==t.financialAdvisor_id?t.financialAdvisor_id:null,date:t.date,startTime:t.startTime,endTime:t.endTime,status:t.status};t._id?(n._id=t._id,a((0,h.W$)(t._id,n))):a((0,h.Fg)(n)),e()})),children:[(0,C.jsxs)(r.Z,{spacing:4,p:3,children:[(0,C.jsx)(w.Cc,{name:"user_id",label:"User *",options:d.users||[],disabled:""!==(null===n||void 0===n?void 0:n._id)}),(0,C.jsx)(w.Cc,{name:"product_id",label:"Product *",options:d.products||[],disabled:""!==(null===n||void 0===n?void 0:n._id)}),(0,C.jsx)(w.Cc,{name:"financialAdvisor_id",label:"Financial Advisor",options:d.advisors||[],disabled:""!==(null===n||void 0===n?void 0:n._id)}),(0,C.jsx)(w.au,{name:"date",type:"date",disabled:""!==(null===n||void 0===n?void 0:n._id)}),(0,C.jsx)(w.au,{name:"startTime",type:"time",disabled:""!==(null===n||void 0===n?void 0:n._id)}),(0,C.jsx)(w.au,{name:"endTime",type:"time",disabled:""!==(null===n||void 0===n?void 0:n._id)}),(0,C.jsx)(w.Cc,{name:"status",label:"Status *",options:S})]}),(0,C.jsxs)(r.Z,{direction:"row",spacing:1,justifyContent:"flex-end",p:3,children:[(0,C.jsx)(x.Z,{onClick:e,children:"Cancel"}),(0,C.jsx)(x.Z,{type:"submit",variant:"contained",children:n._id?"Update":"Save"})]})]})})})},N=n(99287),K={_id:"",user_id:"",categories_title:"",product_id:"",product_title:"",financialAdvisor_id:"",financialAdvisor_title:"",date:"",startTime:"",endTime:"",status:"",createdAt:"",updatedAt:""},I=function(){var t=(0,s.useState)(K),e=(0,l.Z)(t,2),n=e[0],i=e[1],r=(0,s.useState)([]),a=(0,l.Z)(r,2),o=a[0],c=a[1],d=(0,s.useState)(!1),u=(0,l.Z)(d,2),m=u[0],g=u[1],x=(0,s.useState)([]),y=(0,l.Z)(x,2),b=y[0],Z=y[1],w=(0,f.I0)(),_=(0,f.v9)((function(t){return t.Appointments.appointments})),j=(0,f.v9)((function(t){return t.Auth.FinancialAdvisorid}));(0,s.useEffect)((function(){w((0,h.jL)())}),[w]),(0,s.useEffect)((function(){if(_&&_.length>0){var t=_.filter((function(t){var e;return(null===(e=t.financialAdvisorId)||void 0===e?void 0:e._id)===j})),e=t.map((function(t){var e,n,i,r,a,o;return{id:t._id,_id:t._id,categories_title:null===t||void 0===t||null===(e=t.userId)||void 0===e?void 0:e.name,product_title:null===t||void 0===t||null===(n=t.productId)||void 0===n?void 0:n.name,financialAdvisor_title:null===t||void 0===t||null===(i=t.financialAdvisorId)||void 0===i?void 0:i.firstName,user_id:null===t||void 0===t||null===(r=t.userId)||void 0===r?void 0:r._id,product_id:null===t||void 0===t||null===(a=t.productId)||void 0===a?void 0:a._id,financialAdvisor_id:null===t||void 0===t||null===(o=t.financialAdvisorId)||void 0===o?void 0:o._id,date:t.date,startTime:t.startTime,endTime:t.endTime,status:t.status,createdAt:t.createdAt,updatedAt:t.updatedAt}})),n=null===t||void 0===t?void 0:t.map((function(t){var e,n;return{id:t.id,title:"".concat(null===t||void 0===t||null===(e=t.financialAdvisorId)||void 0===e?void 0:e.firstName," ").concat(null===t||void 0===t||null===(n=t.productId)||void 0===n?void 0:n.name),start:"".concat(t.date,"T").concat(t.startTime,":00"),end:"".concat(t.date,"T").concat(t.endTime,":00"),color:"#1452",textColor:"white"}}));Z(n),c(e)}}),[_,j]);var A=[{field:"categories_title",headerName:"User Name",width:200},{field:"product_title",headerName:"Product Name",width:200},{field:"financialAdvisor_title",headerName:"Financial Advisor",width:200},{field:"date",headerName:"Date",width:150},{field:"startTime",headerName:"Start Time",width:150},{field:"endTime",headerName:"End Time",width:150},{field:"status",headerName:"Status",width:100},{field:"createdAt",headerName:"Created At",width:200},{field:"updatedAt",headerName:"Updated At",width:200},{field:"action",headerName:"Action",width:100,renderCell:function(t){var e=t.row;return(0,C.jsx)("strong",{children:(0,C.jsx)(v.Z,{icon:"akar-icons:edit",onClick:k(e)})})}}],k=function(t){return function(e){e.stopPropagation(),i(t),g(!0)}};return(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"main-table",children:(0,C.jsx)(p.Z,{data:o,columns:A,getRowId:function(t){return t.id}})}),m&&(0,C.jsx)(D,{handleClose:function(){g(!1)},currentRow:n}),(0,C.jsx)(N.Z,{events:b})]})};function q(){var t=(0,u.K$)().themeStretch;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.ql,{children:(0,C.jsx)("title",{children:" Page Six "})}),(0,C.jsx)(i.Z,{maxWidth:!t&&"xl",children:(0,C.jsx)(r.Z,{spacing:5,children:(0,C.jsxs)(a.Z,{children:[(0,C.jsx)(o.Z,{title:"Custom",sx:{mb:2}}),(0,C.jsx)(c.Z,{sx:{height:800},children:(0,C.jsx)(I,{})})]})})})]})}},85026:function(t,e,n){n.d(e,{Fg:function(){return d},V2:function(){return l},jL:function(){return c},W$:function(){return u}});var i=n(69520),r=n(88307),a=n(75601),o="".concat(a.T,"appointments/"),c=function(){return function(t){t((0,i.K4)()),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.Z.get(o,t)}().then((function(e){t((0,i.tF)(e.data))})).catch((function(e){t((0,i.xp)(e.message))}))}},d=function(t){return function(e){e((0,i.K4)()),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Z.post(o,t,e)}(t).then((function(t){e((0,i.RF)(t.data)),e(c())})).catch((function(t){e((0,i.Ak)(t.message))}))}},u=function(t,e){return function(n){n((0,i.K4)()),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r.Z.put("".concat(o).concat(t),e,n)}(t,e).then((function(t){n((0,i.mq)(t.data)),n(c())})).catch((function(t){n((0,i.Ak)(t.message))}))}},l=function(t){return function(e){e((0,i.K4)()),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Z.Delete("".concat(o).concat(t),e)}(t).then((function(){e((0,i.yF)(t)),e(c())})).catch((function(t){e((0,i.Ak)(t.message))}))}}},6557:function(t,e,n){n.d(e,{NG:function(){return d},W$:function(){return l},P7:function(){return c},AK:function(){return u}});var i=n(88307),r=n(75601),a="".concat(r.T,"financialAdvisors/"),o=n(7855),c=function(){return function(t){t((0,o.K4)()),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.Z.get(a,t)}().then((function(e){t((0,o.jU)(e.data))})).catch((function(e){t((0,o.WF)(e.message))}))}},d=function(t){return function(e){e((0,o.K4)()),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.post(a,t,e)}(t).then((function(t){e((0,o.Bw)(t.data)),e(c())})).catch((function(t){e((0,o.Ak)(t.message))}))}},u=function(t,e){return function(n){n((0,o.K4)()),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.Z.put("".concat(a).concat(t),e,n)}(t,e).then((function(t){n((0,o.Kj)(t.data)),n(c())})).catch((function(t){n((0,o.Ak)(t.message))}))}},l=function(t){return function(e){e((0,o.K4)()),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.Delete("".concat(a).concat(t),e)}(t).then((function(){e((0,o.Sr)(t)),e(c())})).catch((function(t){e((0,o.Ak)(t.message))}))}}},85834:function(t,e,n){n.d(e,{gK:function(){return d},Ir:function(){return l},t2:function(){return c},nM:function(){return u}});var i=n(88307),r=n(75601),a="".concat(r.T,"products/"),o=n(64790),c=function(){return function(t){t((0,o.K4)()),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.Z.get(a,t)}().then((function(e){t((0,o.Hl)(e.data))})).catch((function(e){t((0,o.iO)(e.message))}))}},d=function(t){return function(e){e((0,o.K4)()),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.post(a,t,e)}(t).then((function(t){e((0,o.NV)(t.data)),e(c())})).catch((function(t){e((0,o.Ak)(t.message))}))}},u=function(t,e){return function(n){n((0,o.K4)()),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.Z.put("".concat(a).concat(t),e,n)}(t,e).then((function(t){n((0,o.j7)(t.data)),n(c())})).catch((function(t){n((0,o.Ak)(t.message))}))}},l=function(t){return function(e){e((0,o.K4)()),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.Delete("".concat(a).concat(t),e)}(t).then((function(){e((0,o.Bl)(t)),e(c())})).catch((function(t){e((0,o.Ak)(t.message))}))}}},51493:function(t,e,n){n.d(e,{Nq:function(){return c},cn:function(){return o},h8:function(){return d},uh:function(){return a}});var i=n(24835),r=n(64675),a=function(){return function(t){t((0,r.K4)()),(0,i.U0)().then((function(e){t((0,r.wM)(e.data))})).catch((function(e){t((0,r.It)(e.message))}))}},o=function(t){return function(e){e((0,r.K4)()),(0,i.KL)(t).then((function(t){e((0,r.bi)(t.data)),e(a())})).catch((function(t){e((0,r.Ak)(t.message))}))}},c=function(t,e){return function(n){n((0,r.K4)()),(0,i.Al)(t,e).then((function(t){n((0,r.qB)(t.data)),n(a())})).catch((function(t){n((0,r.Ak)(t.message))}))}},d=function(t){return function(e){e((0,r.K4)()),(0,i.af)(t).then((function(){e((0,r.UU)(t)),e(a())})).catch((function(t){e((0,r.Ak)(t.message))}))}}},99287:function(t,e,n){n.d(e,{Z:function(){return S}});var i=n(29439),r=n(38217),a=n(74332),o=n(49704),c=n(90575),d=n(52720),u=n(16977),l=n(89164),s=n(57621),f=n(72791),v=n(1413),h=n(66934),p=n(12065),m=(0,h.ZP)("div")((function(t){var e=t.theme;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-list-event-dot-width":"8px","--fc-border-color":e.palette.divider,"--fc-event-border-color":e.palette.info.light,"--fc-now-indicator-color":e.palette.error.main,"--fc-today-bg-color":e.palette.action.selected,"--fc-page-bg-color":e.palette.background.default,"--fc-neutral-bg-color":e.palette.background.neutral,"--fc-list-event-hover-bg-color":e.palette.action.hover,"--fc-highlight-color":(0,p.Fq)(e.palette.primary.main,.08)},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:e.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:"inset 0 -1px 0 ".concat(e.palette.divider),"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":(0,v.Z)((0,v.Z)({},e.typography.subtitle2),{},{padding:"13px 0"})},"& .fc .fc-event":{borderColor:"transparent",backgroundColor:"transparent"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:4,backgroundColor:e.palette.common.white,transition:e.transitions.create("filter"),"&:hover":{filter:"brightness(0.92)"},"&:before,&:after":{top:0,left:0,width:"100%",height:"100%",content:"''",borderRadius:4,position:"absolute",boxSizing:"border-box"},"&:before":{zIndex:8,opacity:.32,border:"solid 1px currentColor"},"&:after":{zIndex:7,opacity:.24,backgroundColor:"currentColor"}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.24)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{padding:0,overflow:"unset",fontWeight:e.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:e.customShadows.z20,borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.paper},"& .fc .fc-popover-header":(0,v.Z)((0,v.Z)({},e.typography.subtitle2),{},{padding:e.spacing(1),backgroundColor:e.palette.grey[50012],borderBottom:"solid 1px ".concat(e.palette.divider)}),"& .fc .fc-popover-close":{opacity:.48,transition:e.transitions.create("opacity"),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:e.spacing(1.5)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:e.palette.text.disabled}},"& .fc .fc-daygrid-day-number":(0,v.Z)((0,v.Z)({},e.typography.body2),{},{padding:e.spacing(1,1,0)}),"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":(0,v.Z)((0,v.Z)({},e.typography.caption),{},{color:e.palette.text.secondary}),"& .fc .fc-timegrid-axis-cushion":(0,v.Z)((0,v.Z)({},e.typography.body2),{},{color:e.palette.text.secondary}),"& .fc .fc-timegrid-slot-label-cushion":(0,v.Z)({},e.typography.body2),"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":(0,v.Z)({},e.typography.subtitle2),"& .fc .fc-list-event":(0,v.Z)((0,v.Z)({},e.typography.body2),{},{"& .fc-list-event-time":{color:e.palette.text.secondary}}),"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}})),g=n(4942),x=n(36314),y=n(20068),b=n(93757),Z=n(13400),w=n(20890),_=n(94294),j=n(73609),A=n(80184),k=[{value:"dayGridMonth",label:"Month",icon:"ic:round-view-module"},{value:"timeGridWeek",label:"Week",icon:"ic:round-view-week"},{value:"timeGridDay",label:"Day",icon:"ic:round-view-day"},{value:"listWeek",label:"Agenda",icon:"ic:round-view-agenda"}],C=(0,h.ZP)("div")((function(t){var e=t.theme;return(0,g.Z)({display:"flex",alignItems:"center",flexDirection:"column",padding:e.spacing(2.5)},e.breakpoints.up("sm"),{flexDirection:"row",justifyContent:"space-between"})}));function T(t){var e=t.date,n=t.view,i=t.onToday,r=t.onNextDate,a=t.onPrevDate,o=t.onChangeView;return(0,A.jsxs)(C,{children:[(0,A.jsx)(x.Z,{direction:"row",spacing:.5,children:k.map((function(t){return(0,A.jsx)(y.Z,{title:t.label,children:(0,A.jsx)(b.Z,{value:n,selected:t.value===n,onChange:function(){return o(t.value)},sx:{width:32,height:32,padding:0,border:0},children:(0,A.jsx)(j.Z,{icon:t.icon,width:20,height:20})})},t.value)}))}),(0,A.jsxs)(x.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,A.jsx)(Z.Z,{onClick:a,children:(0,A.jsx)(j.Z,{icon:"eva:arrow-ios-back-fill",width:20,height:20})}),(0,A.jsx)(w.Z,{variant:"h5",children:"".concat(new Date(e).getDate(),"/").concat(new Date(e).getMonth()+1,"/").concat(new Date(e).getFullYear())}),(0,A.jsx)(Z.Z,{onClick:r,children:(0,A.jsx)(j.Z,{icon:"eva:arrow-ios-forward-fill",width:20,height:20})})]}),(0,A.jsx)(_.Z,{size:"small",color:"error",variant:"contained",onClick:i,children:"Today"})]})}var S=function(t){var e=(0,f.useRef)(null),n=(0,f.useState)(new Date),v=(0,i.Z)(n,2),h=v[0],p=v[1],g=(0,f.useState)("dayGridMonth"),x=(0,i.Z)(g,2),y=x[0],b=x[1];return(0,A.jsx)(l.Z,{children:(0,A.jsx)(s.Z,{children:(0,A.jsxs)(m,{children:[(0,A.jsx)(T,{date:h,view:y,onNextDate:function(){var t=e.current;if(t){var n=t.getApi();n.next(),p(n.getDate())}},onPrevDate:function(){var t=e.current;if(t){var n=t.getApi();n.prev(),p(n.getDate())}},onToday:function(){var t=e.current;if(t){var n=t.getApi();n.today(),p(n.getDate())}},onChangeView:function(t){var n=e.current;n&&(n.getApi().changeView(t),b(t))}}),(0,A.jsx)(c.Z,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:t,ref:e,rerenderDelay:10,initialDate:h,initialView:y,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,height:720,plugins:[o.Z,r.Z,u.Z,d.Z,a.ZP]})]})})})}},43865:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(81064),r=n(70039),a=n(80184);function o(t){var e=t.data,n=t.columns;return(0,a.jsx)(i._,{disableSelectionOnClick:!0,rows:e,columns:n,pagination:!0,components:{Toolbar:r.n},slots:{toolbar:r.n}})}},44695:function(t,e,n){n.d(e,{X:function(){return c}});var i=n(61134),r=function(t,e,n){if(t&&"reportValidity"in t){var r=(0,i.U2)(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},a=function(t,e){var n=function(n){var i=e.fields[n];i&&i.ref&&"reportValidity"in i.ref?r(i.ref,n,t):i.refs&&i.refs.forEach((function(e){return r(e,n,t)}))};for(var i in e.fields)n(i)},o=function(t,e){e.shouldUseNativeValidation&&a(t,e);var n={};for(var r in t){var o=(0,i.U2)(e.fields,r);(0,i.t8)(n,r,Object.assign(t[r],{ref:o&&o.ref}))}return n},c=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),function(c,d,u){try{return Promise.resolve(function(i,o){try{var l=(e.context,Promise.resolve(t["sync"===n.mode?"validateSync":"validate"](c,Object.assign({abortEarly:!1},e,{context:d}))).then((function(t){return u.shouldUseNativeValidation&&a({},u),{values:n.rawValues?c:t,errors:{}}})))}catch(r){return o(r)}return l&&l.then?l.then(void 0,o):l}(0,(function(t){if(!t.inner)throw t;return{values:{},errors:o((e=t,n=!u.shouldUseNativeValidation&&"all"===u.criteriaMode,(e.inner||[]).reduce((function(t,e){if(t[e.path]||(t[e.path]={message:e.message,type:e.type}),n){var r=t[e.path].types,a=r&&r[e.type];t[e.path]=(0,i.KN)(e.path,n,t,e.type,a?[].concat(a,e.message):e.message)}return t}),{})),u)};var e,n})))}catch(r){return Promise.reject(r)}}}}}]);
//# sourceMappingURL=611.17f82e83.chunk.js.map