"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[104],{58518:function(n,t,e){e.d(t,{Z:function(){return C}});var i=e(1413),r=e(5289),o=e(65661),a=e(39157),c=e(20890),s=e(63366),l=e(87462),u=e(72791),d=e(59278),f=e(94419),h=e(66934),v=e(61020),p=e(75878),m=e(21217);function g(n){return(0,m.ZP)("MuiDialogActions",n)}(0,p.Z)("MuiDialogActions",["root","spacing"]);var x=e(80184),Z=["className","disableSpacing"],j=(0,h.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(n,t){var e=n.ownerState;return[t.root,!e.disableSpacing&&t.spacing]}})((function(n){var t=n.ownerState;return(0,l.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),y=u.forwardRef((function(n,t){var e=(0,v.i)({props:n,name:"MuiDialogActions"}),i=e.className,r=e.disableSpacing,o=void 0!==r&&r,a=(0,s.Z)(e,Z),c=(0,l.Z)({},e,{disableSpacing:o}),u=function(n){var t=n.classes,e={root:["root",!n.disableSpacing&&"spacing"]};return(0,f.Z)(e,g,t)}(c);return(0,x.jsx)(j,(0,l.Z)({className:(0,d.Z)(u.root,i),ownerState:c,ref:t},a))})),b=e(94294);function C(n){var t=n.confirmDialog,e=n.setConfirmDialog;return(0,x.jsxs)(r.Z,{open:t.isOpen,children:[(0,x.jsx)(o.Z,{children:t.title}),(0,x.jsx)(a.Z,{children:(0,x.jsx)(c.Z,{variant:"h6",children:t.subTitle})}),(0,x.jsxs)(y,{children:[(0,x.jsx)(b.Z,{onClick:function(){return e((0,i.Z)((0,i.Z)({},t),{},{isOpen:!1}))},children:"No"}),(0,x.jsx)(b.Z,{onClick:t.onConfirm,children:"Yes"})]})]})}},33782:function(n,t,e){e.r(t),e.d(t,{default:function(){return U}});var i=e(89164),r=e(36314),o=e(57621),a=e(9585),c=e(697),s=e(6907),l=e(53919),u=e(1413),d=e(29439),f=e(72791),h=e(94420),v=e(94294),p=e(61134),m=e(44695),g=e(81724),x=e(41231),Z=e(5324),j=e(88307),y=e(75601),b="".concat(y.T,"privacy/"),C=e(22335),w=function(){return function(n){n((0,C.K4)()),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return j.Z.get(b,n)}().then((function(t){n((0,C.T$)(t.data))})).catch((function(t){n((0,C.wq)(t.message))}))}},A=function(n){return function(t){t((0,C.K4)()),function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.Z.post(b,n,t)}(n).then((function(n){t((0,C.b_)(n.data)),t(w())})).catch((function(n){t((0,C.Ak)(n.message))}))}},S=function(n,t){return function(e){e((0,C.K4)()),function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return j.Z.put("".concat(b).concat(n),t,e)}(n,t).then((function(n){e((0,C.fk)(n.data)),e(w())})).catch((function(n){e((0,C.Ak)(n.message))}))}},_=function(n){return function(t){t((0,C.K4)()),function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return j.Z.Delete("".concat(b).concat(n),t)}(n).then((function(){t((0,C.mg)(n)),t(w())})).catch((function(n){t((0,C.Ak)(n.message))}))}},k=e(6522),N=e(80184),P=g.Ry().shape({title:g.Z_().required("Title is required"),content:g.Z_().required("Content is required")}),D=function(n){var t=n.handleClose,e=n.currentRow,i=(0,h.I0)(),o={title:(null===e||void 0===e?void 0:e.title)||"",content:(null===e||void 0===e?void 0:e.content)||"",status:(null===e||void 0===e?void 0:e.status)||""},a=(0,p.cI)({resolver:(0,m.X)(P),defaultValues:o}),c=a.handleSubmit;return(0,N.jsx)(x.Kl,{open:!0,onClose:t,title:e._id?"Update Privacy Policy":"Add Privacy Policy",children:(0,N.jsxs)(k.Z,{methods:a,onSubmit:c((function(n){e._id?i(S(e._id,n)):i(A(n)),t()})),children:[(0,N.jsxs)(r.Z,{spacing:3,p:3,children:[(0,N.jsx)(Z.au,{name:"title",label:"Title",fullWidth:!0}),(0,N.jsx)(Z.au,{name:"content",label:"Content",fullWidth:!0,multiline:!0,rows:4})]}),(0,N.jsxs)(r.Z,{direction:"row",spacing:1,justifyContent:"flex-end",p:3,children:[(0,N.jsx)(v.Z,{onClick:t,children:"Cancel"}),(0,N.jsx)(v.Z,{type:"submit",variant:"contained",children:"Save"})]})]})})},T=e(43865),V=e(73609),O=e(58518),K={_id:"",title:"",content:"",createdAt:"",updatedAt:""},R=function(){var n=(0,f.useState)(K),t=(0,d.Z)(n,2),e=t[0],i=t[1],r=(0,f.useState)([]),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,f.useState)(!1),p=(0,d.Z)(l,2),m=p[0],g=p[1],x=(0,h.I0)(),Z=(0,f.useState)({isOpen:!1,title:"",subTitle:""}),j=(0,d.Z)(Z,2),y=j[0],b=j[1],C=(0,h.v9)((function(n){return n.privacy.privacyPolicies}));(0,f.useEffect)((function(){x(w())}),[x]),(0,f.useEffect)((function(){if(C&&C.length>0){var n=C.map((function(n,t){return{id:n._id,_id:n._id,title:n.title,content:n.content,createdAt:n.createdAt,updatedAt:n.updatedAt}}));s(n)}}),[C]);var A=[{field:"title",headerName:"Title",width:350},{field:"content",headerName:"Content",width:350},{field:"createdAt",headerName:"Created At",width:200},{field:"updatedAt",headerName:"Updated At",width:200},{field:"action",headerName:"Action",width:100,renderCell:function(n){var t=n.row;return(0,N.jsxs)("strong",{children:[(0,N.jsx)(V.Z,{icon:"akar-icons:edit",onClick:k(t)}),(0,N.jsx)(V.Z,{icon:"ant-design:delete-outlined",onClick:S(t)})]})}}],S=function(n){return function(t){t.stopPropagation(),b({isOpen:!0,title:"Are you sure you want to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){return function(n){b((0,u.Z)((0,u.Z)({},y),{},{isOpen:!1})),x(_(n._id)),g(!1)}(n)}})}},k=function(n){return function(t){t.stopPropagation(),i(n),g(!0)}};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{display:"flex",justifyContent:"flex-end",p:1,children:(0,N.jsx)(v.Z,{type:"button",onClick:function(){g(!0),i(K)},className:"add-btn",children:"Add Privacy Policy"})}),(0,N.jsx)("div",{className:"main-table",children:a.length>0&&(0,N.jsx)(T.Z,{data:a,columns:A,getRowId:function(n){return n.id}})}),m&&(0,N.jsx)(D,{handleClose:function(){g(!1)},currentRow:e}),y&&(0,N.jsx)(O.Z,{confirmDialog:y,setConfirmDialog:b})]})};function U(){var n=(0,l.K$)().themeStretch;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(s.ql,{children:(0,N.jsx)("title",{children:" Page Six "})}),(0,N.jsx)(i.Z,{maxWidth:!n&&"xl",children:(0,N.jsx)(r.Z,{spacing:5,children:(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(a.Z,{title:"Custom",sx:{mb:2}}),(0,N.jsx)(c.Z,{sx:{height:390},children:(0,N.jsx)(R,{})})]})})})]})}},43865:function(n,t,e){e.d(t,{Z:function(){return a}});var i=e(81064),r=e(70039),o=e(80184);function a(n){var t=n.data,e=n.columns;return(0,o.jsx)(i._,{disableSelectionOnClick:!0,rows:t,columns:e,pagination:!0,components:{Toolbar:r.n},slots:{toolbar:r.n}})}},44695:function(n,t,e){e.d(t,{X:function(){return c}});var i=e(61134),r=function(n,t,e){if(n&&"reportValidity"in n){var r=(0,i.U2)(e,t);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},o=function(n,t){var e=function(e){var i=t.fields[e];i&&i.ref&&"reportValidity"in i.ref?r(i.ref,e,n):i.refs&&i.refs.forEach((function(t){return r(t,e,n)}))};for(var i in t.fields)e(i)},a=function(n,t){t.shouldUseNativeValidation&&o(n,t);var e={};for(var r in n){var a=(0,i.U2)(t.fields,r);(0,i.t8)(e,r,Object.assign(n[r],{ref:a&&a.ref}))}return e},c=function(n,t,e){return void 0===t&&(t={}),void 0===e&&(e={}),function(c,s,l){try{return Promise.resolve(function(i,a){try{var u=(t.context,Promise.resolve(n["sync"===e.mode?"validateSync":"validate"](c,Object.assign({abortEarly:!1},t,{context:s}))).then((function(n){return l.shouldUseNativeValidation&&o({},l),{values:e.rawValues?c:n,errors:{}}})))}catch(r){return a(r)}return u&&u.then?u.then(void 0,a):u}(0,(function(n){if(!n.inner)throw n;return{values:{},errors:a((t=n,e=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,(t.inner||[]).reduce((function(n,t){if(n[t.path]||(n[t.path]={message:t.message,type:t.type}),e){var r=n[t.path].types,o=r&&r[t.type];n[t.path]=(0,i.KN)(t.path,e,n,t.type,o?[].concat(o,t.message):t.message)}return n}),{})),l)};var t,e})))}catch(r){return Promise.reject(r)}}}}}]);
//# sourceMappingURL=104.ce6d909b.chunk.js.map