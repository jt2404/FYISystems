"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[913],{58518:function(n,t,e){e.d(t,{Z:function(){return C}});var i=e(1413),r=e(5289),o=e(65661),a=e(39157),c=e(20890),s=e(63366),u=e(87462),l=e(72791),d=e(59278),f=e(94419),h=e(66934),m=e(61020),p=e(75878),v=e(21217);function g(n){return(0,v.ZP)("MuiDialogActions",n)}(0,p.Z)("MuiDialogActions",["root","spacing"]);var x=e(80184),Z=["className","disableSpacing"],j=(0,h.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(n,t){var e=n.ownerState;return[t.root,!e.disableSpacing&&t.spacing]}})((function(n){var t=n.ownerState;return(0,u.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),b=l.forwardRef((function(n,t){var e=(0,m.i)({props:n,name:"MuiDialogActions"}),i=e.className,r=e.disableSpacing,o=void 0!==r&&r,a=(0,s.Z)(e,Z),c=(0,u.Z)({},e,{disableSpacing:o}),l=function(n){var t=n.classes,e={root:["root",!n.disableSpacing&&"spacing"]};return(0,f.Z)(e,g,t)}(c);return(0,x.jsx)(j,(0,u.Z)({className:(0,d.Z)(l.root,i),ownerState:c,ref:t},a))})),y=e(94294);function C(n){var t=n.confirmDialog,e=n.setConfirmDialog;return(0,x.jsxs)(r.Z,{open:t.isOpen,children:[(0,x.jsx)(o.Z,{children:t.title}),(0,x.jsx)(a.Z,{children:(0,x.jsx)(c.Z,{variant:"h6",children:t.subTitle})}),(0,x.jsxs)(b,{children:[(0,x.jsx)(y.Z,{onClick:function(){return e((0,i.Z)((0,i.Z)({},t),{},{isOpen:!1}))},children:"No"}),(0,x.jsx)(y.Z,{onClick:t.onConfirm,children:"Yes"})]})]})}},91531:function(n,t,e){e.r(t),e.d(t,{default:function(){return I}});var i=e(89164),r=e(36314),o=e(57621),a=e(9585),c=e(697),s=e(6907),u=e(53919),l=e(1413),d=e(29439),f=e(72791),h=e(94420),m=e(94294),p=e(74165),v=e(15861),g=e(44695),x=e(61134),Z=e(81724),j=e(41231),b=e(5324),y=e(6522),C=e(88307),w=e(75601),S="".concat(w.T,"terms/"),A=e(49613),_=function(){return function(n){n((0,A.K4)()),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return C.Z.get(S,n)}().then((function(t){n((0,A.hY)(t.data))})).catch((function(t){n((0,A.zN)(t.message))}))}},k=function(n){return function(t){t((0,A.K4)()),function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return C.Z.post(S,n,t)}(n).then((function(n){t((0,A.LD)(n.data)),t(_())})).catch((function(n){t((0,A.Ak)(n.message))}))}},N=function(n,t){return function(e){e((0,A.K4)()),function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return C.Z.put("".concat(S).concat(n),t,e)}(n,t).then((function(n){e((0,A.O_)(n.data)),e(_())})).catch((function(n){e((0,A.Ak)(n.message))}))}},D=function(n){return function(t){t((0,A.K4)()),function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return C.Z.Delete("".concat(S).concat(n),t)}(n).then((function(){t((0,A.vG)(n)),t(_())})).catch((function(n){t((0,A.Ak)(n.message))}))}},T=e(80184),O=Z.Ry().shape({title:Z.Z_().required("Title is required"),content:Z.Z_().required("Content is required")}),V=function(n){var t=n.handleClose,e=n.currentRow,i=(0,h.I0)(),o={title:(null===e||void 0===e?void 0:e.title)||"",content:(null===e||void 0===e?void 0:e.content)||""},a=(0,x.cI)({resolver:(0,g.X)(O),defaultValues:o}),c=a.handleSubmit,s=(a.reset,a.formState.isSubmitting),u=function(){var n=(0,v.Z)((0,p.Z)().mark((function n(r){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e._id),e._id?i(N(e._id,r)):i(k(r)),t();case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,T.jsx)(j.Kl,{open:!0,onClose:t,title:"Terms Form",children:(0,T.jsxs)(y.Z,{methods:a,onSubmit:c(u),children:[(0,T.jsxs)(r.Z,{spacing:3,p:3,children:[(0,T.jsx)(b.au,{name:"title",label:"Title",fullWidth:!0}),(0,T.jsx)(b.au,{name:"content",label:"Content",fullWidth:!0,multiline:!0,rows:4})]}),(0,T.jsxs)(r.Z,{direction:"row",spacing:1,justifyContent:"flex-end",p:3,children:[(0,T.jsx)(m.Z,{onClick:t,children:"Cancel"}),(0,T.jsx)(m.Z,{type:"submit",variant:"contained",loading:s,children:"Save"})]})]})})},P=e(43865),K=e(73609),R=e(58518),U={_id:"",title:"",content:"",createdAt:"",updatedAt:""},q=function(){var n=(0,f.useState)(U),t=(0,d.Z)(n,2),e=t[0],i=t[1],r=(0,f.useState)([]),o=(0,d.Z)(r,2),a=o[0],s=o[1],u=(0,f.useState)(!1),p=(0,d.Z)(u,2),v=p[0],g=p[1],x=(0,h.I0)(),Z=(0,f.useState)({isOpen:!1,title:"",subTitle:""}),j=(0,d.Z)(Z,2),b=j[0],y=j[1],C=(0,h.v9)((function(n){return n.terms.terms}));(0,f.useEffect)((function(){x(_())}),[x]),(0,f.useEffect)((function(){if(C&&C.length>0){var n=C.map((function(n){return{id:n._id,_id:n._id,title:n.title,content:n.content,createdAt:n.createdAt,updatedAt:n.updatedAt}}));s(n)}}),[C]);var w=[{field:"title",headerName:"Title",width:350},{field:"content",headerName:"Content",width:350},{field:"createdAt",headerName:"Created At",width:200},{field:"updatedAt",headerName:"Updated At",width:200},{field:"action",headerName:"Action",width:100,renderCell:function(n){var t=n.row;return(0,T.jsxs)("strong",{children:[(0,T.jsx)(K.Z,{icon:"akar-icons:edit",onClick:A(t)}),(0,T.jsx)(K.Z,{icon:"ant-design:delete-outlined",onClick:S(t)})]})}}],S=function(n){return function(t){t.stopPropagation(),y({isOpen:!0,title:"Are you sure you want to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){return function(n){y((0,l.Z)((0,l.Z)({},b),{},{isOpen:!1})),x(D(n._id)),g(!1)}(n)}})}},A=function(n){return function(t){t.stopPropagation(),i(n),g(!0)}};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(c.Z,{display:"flex",justifyContent:"flex-end",p:1,children:(0,T.jsx)(m.Z,{type:"button",onClick:function(){g(!0),i(U)},className:"add-btn",children:"Add Terms"})}),(0,T.jsx)("div",{className:"main-table",children:a.length>0&&(0,T.jsx)(P.Z,{data:a,columns:w,getRowId:function(n){return n.id}})}),v&&(0,T.jsx)(V,{handleClose:function(){g(!1)},currentRow:e}),b&&(0,T.jsx)(R.Z,{confirmDialog:b,setConfirmDialog:y})]})};function I(){var n=(0,u.K$)().themeStretch;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(s.ql,{children:(0,T.jsx)("title",{children:" Page Six "})}),(0,T.jsx)(i.Z,{maxWidth:!n&&"xl",children:(0,T.jsx)(r.Z,{spacing:5,children:(0,T.jsxs)(o.Z,{children:[(0,T.jsx)(a.Z,{title:"Custom",sx:{mb:2}}),(0,T.jsx)(c.Z,{sx:{height:390},children:(0,T.jsx)(q,{})})]})})})]})}},43865:function(n,t,e){e.d(t,{Z:function(){return a}});var i=e(81064),r=e(70039),o=e(80184);function a(n){var t=n.data,e=n.columns;return(0,o.jsx)(i._,{disableSelectionOnClick:!0,rows:t,columns:e,pagination:!0,components:{Toolbar:r.n},slots:{toolbar:r.n}})}},44695:function(n,t,e){e.d(t,{X:function(){return c}});var i=e(61134),r=function(n,t,e){if(n&&"reportValidity"in n){var r=(0,i.U2)(e,t);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},o=function(n,t){var e=function(e){var i=t.fields[e];i&&i.ref&&"reportValidity"in i.ref?r(i.ref,e,n):i.refs&&i.refs.forEach((function(t){return r(t,e,n)}))};for(var i in t.fields)e(i)},a=function(n,t){t.shouldUseNativeValidation&&o(n,t);var e={};for(var r in n){var a=(0,i.U2)(t.fields,r);(0,i.t8)(e,r,Object.assign(n[r],{ref:a&&a.ref}))}return e},c=function(n,t,e){return void 0===t&&(t={}),void 0===e&&(e={}),function(c,s,u){try{return Promise.resolve(function(i,a){try{var l=(t.context,Promise.resolve(n["sync"===e.mode?"validateSync":"validate"](c,Object.assign({abortEarly:!1},t,{context:s}))).then((function(n){return u.shouldUseNativeValidation&&o({},u),{values:e.rawValues?c:n,errors:{}}})))}catch(r){return a(r)}return l&&l.then?l.then(void 0,a):l}(0,(function(n){if(!n.inner)throw n;return{values:{},errors:a((t=n,e=!u.shouldUseNativeValidation&&"all"===u.criteriaMode,(t.inner||[]).reduce((function(n,t){if(n[t.path]||(n[t.path]={message:t.message,type:t.type}),e){var r=n[t.path].types,o=r&&r[t.type];n[t.path]=(0,i.KN)(t.path,e,n,t.type,o?[].concat(o,t.message):t.message)}return n}),{})),u)};var t,e})))}catch(r){return Promise.reject(r)}}}}}]);
//# sourceMappingURL=913.be9a5b5a.chunk.js.map