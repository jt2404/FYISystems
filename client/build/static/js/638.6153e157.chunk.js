"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[638],{58518:function(t,e,n){n.d(e,{Z:function(){return C}});var i=n(1413),r=n(5289),a=n(65661),o=n(39157),s=n(20890),c=n(63366),u=n(87462),d=n(72791),l=n(59278),f=n(94419),h=n(66934),p=n(61020),m=n(75878),v=n(21217);function g(t){return(0,v.ZP)("MuiDialogActions",t)}(0,m.Z)("MuiDialogActions",["root","spacing"]);var x=n(80184),Z=["className","disableSpacing"],j=(0,h.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,!n.disableSpacing&&e.spacing]}})((function(t){var e=t.ownerState;return(0,u.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),y=d.forwardRef((function(t,e){var n=(0,p.i)({props:t,name:"MuiDialogActions"}),i=n.className,r=n.disableSpacing,a=void 0!==r&&r,o=(0,c.Z)(n,Z),s=(0,u.Z)({},n,{disableSpacing:a}),d=function(t){var e=t.classes,n={root:["root",!t.disableSpacing&&"spacing"]};return(0,f.Z)(n,g,e)}(s);return(0,x.jsx)(j,(0,u.Z)({className:(0,l.Z)(d.root,i),ownerState:s,ref:e},o))})),b=n(94294);function C(t){var e=t.confirmDialog,n=t.setConfirmDialog;return(0,x.jsxs)(r.Z,{open:e.isOpen,children:[(0,x.jsx)(a.Z,{children:e.title}),(0,x.jsx)(o.Z,{children:(0,x.jsx)(s.Z,{variant:"h6",children:e.subTitle})}),(0,x.jsxs)(y,{children:[(0,x.jsx)(b.Z,{onClick:function(){return n((0,i.Z)((0,i.Z)({},e),{},{isOpen:!1}))},children:"No"}),(0,x.jsx)(b.Z,{onClick:e.onConfirm,children:"Yes"})]})]})}},64889:function(t,e,n){n.r(e),n.d(e,{default:function(){return P}});var i=n(89164),r=n(36314),a=n(57621),o=n(9585),s=n(697),c=n(6907),u=n(53919),d=n(1413),l=n(29439),f=n(72791),h=n(94420),p=n(94294),m=n(44695),v=n(61134),g=n(81724),x=n(41231),Z=n(5324),j=n(6522),y=n(60896),b=n(80184),C=g.Ry().shape({name:g.Z_().required("Name is required"),description:g.Z_().required("Description is required"),status:g.Z_().required("Status is required")}),S=[{id:"Active",title:"Active"},{id:"Draft",title:"Draft"},{id:"Inactive",title:"Inactive"}],A=function(t){var e=t.handleClose,n=t.currentRow,i=n,a=(0,h.I0)(),o=(0,v.cI)({resolver:(0,m.X)(C),defaultValues:i}),s=o.handleSubmit;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(x.Kl,{onClose:e,title:n._id?"Update Product":"Add Product",children:(0,b.jsxs)(j.Z,{methods:o,onSubmit:s((function(t){var n={name:t.name,description:t.description,status:t.status};t._id?(n._id=t._id,a((0,y.yr)(t._id,n))):a((0,y.i8)(n)),e()})),children:[(0,b.jsxs)(r.Z,{spacing:4,p:3,className:"css-1lwbda4-MuiStack-root",children:[(0,b.jsx)(Z.au,{name:"name",label:"Name *",autoFocus:!0}),(0,b.jsx)(Z.au,{name:"description",label:"Description *"}),(0,b.jsx)(Z.Cc,{name:"status",label:"Status *",options:S})]}),(0,b.jsxs)(r.Z,{direction:"row",spacing:1,justifyContent:"flex-end",p:3,children:[(0,b.jsx)(p.Z,{onClick:e,children:"Cancel"}),(0,b.jsx)(p.Z,{type:"submit",variant:"contained",children:n._id?"Update":"Save"})]})]})})})},_=n(43865),w=n(73609),N=n(58518),k={_id:"",name:"",description:"",status:"",createdAt:"",updatedAt:""},D=function(){var t=(0,f.useState)(k),e=(0,l.Z)(t,2),n=e[0],i=e[1],r=(0,f.useState)([]),a=(0,l.Z)(r,2),o=a[0],c=a[1],u=(0,f.useState)(!1),m=(0,l.Z)(u,2),v=m[0],g=m[1],x=(0,h.I0)(),Z=(0,f.useState)({isOpen:!1,title:"",subTitle:""}),j=(0,l.Z)(Z,2),C=j[0],S=j[1],D=(0,h.v9)((function(t){return t.Category.categories}));(0,f.useEffect)((function(){x((0,y.pE)())}),[x]),(0,f.useEffect)((function(){if(D&&D.length>0){var t=D.map((function(t,e){return{id:t._id,_id:t._id,name:t.name,description:t.description,status:t.status,createdAt:t.createdAt,updatedAt:t.updatedAt}}));c(t)}}),[D]);var P=[{field:"name",headerName:"Name",width:350},{field:"description",headerName:"Description",width:350},{field:"status",headerName:"Status",width:100},{field:"createdAt",headerName:"createdAt",width:200},{field:"updatedAt",headerName:"updatedAt",width:200},{field:"action",headerName:"Action",width:100,renderCell:function(t){var e=t.row;return(0,b.jsxs)("strong",{children:[(0,b.jsx)(w.Z,{icon:"akar-icons:edit",onClick:O(e)}),(0,b.jsx)(w.Z,{icon:"ant-design:delete-outlined",onClick:V(e)})]})}}],V=function(t){return function(e){e.stopPropagation(),S({isOpen:!0,title:"Are you sure you want to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){return function(t){S((0,d.Z)((0,d.Z)({},C),{},{isOpen:!1})),x((0,y.uu)(t._id)),g(!1)}(t)}})}},O=function(t){return function(e){e.stopPropagation(),i(t),g(!0)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Z,{display:"flex",justifyContent:"flex-end",p:1,children:(0,b.jsx)(p.Z,{type:"button",onClick:function(){g(!0),i(k)},className:"add-btn",children:"Add subCategory"})}),(0,b.jsx)("div",{className:"main-table",children:o.length>0&&(0,b.jsx)(_.Z,{data:o,columns:P,getRowId:function(t){return t.id}})}),v&&(0,b.jsx)(A,{handleClose:function(){g(!1)},currentRow:n}),C&&(0,b.jsx)(N.Z,{confirmDialog:C,setConfirmDialog:S})]})};function P(){var t=(0,u.K$)().themeStretch;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.ql,{children:(0,b.jsx)("title",{children:" Page Six "})}),(0,b.jsx)(i.Z,{maxWidth:!t&&"xl",children:(0,b.jsx)(r.Z,{spacing:5,children:(0,b.jsxs)(a.Z,{children:[(0,b.jsx)(o.Z,{title:"Custom",sx:{mb:2}}),(0,b.jsx)(s.Z,{sx:{height:390},children:(0,b.jsx)(D,{})})]})})})]})}},60896:function(t,e,n){n.d(e,{i8:function(){return c},uu:function(){return d},pE:function(){return s},yr:function(){return u}});var i=n(88307),r=n(75601),a="".concat(r.T,"parentCategories/"),o=n(77259),s=function(){return function(t){t((0,o.K4)()),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.Z.get(a,t)}().then((function(e){t((0,o.s$)(e.data))})).catch((function(e){t((0,o.c5)(e.message))}))}},c=function(t){return function(e){e((0,o.K4)()),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.post(a,t,e)}(t).then((function(t){e((0,o.pF)(t.data)),e(s())})).catch((function(t){e((0,o.Ak)(t.message))}))}},u=function(t,e){return function(n){n((0,o.K4)()),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.Z.put("".concat(a).concat(t),e,n)}(t,e).then((function(t){n((0,o.uo)(t.data)),n(s())})).catch((function(t){n((0,o.Ak)(t.message))}))}},d=function(t){return function(e){e((0,o.K4)()),console.log(t),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.Delete("".concat(a).concat(t),e)}(t).then((function(){e((0,o.ru)(t)),e(s())})).catch((function(t){e((0,o.Ak)(t.message))}))}}},43865:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(81064),r=n(70039),a=n(80184);function o(t){var e=t.data,n=t.columns;return(0,a.jsx)(i._,{disableSelectionOnClick:!0,rows:e,columns:n,pagination:!0,components:{Toolbar:r.n},slots:{toolbar:r.n}})}},44695:function(t,e,n){n.d(e,{X:function(){return s}});var i=n(61134),r=function(t,e,n){if(t&&"reportValidity"in t){var r=(0,i.U2)(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},a=function(t,e){var n=function(n){var i=e.fields[n];i&&i.ref&&"reportValidity"in i.ref?r(i.ref,n,t):i.refs&&i.refs.forEach((function(e){return r(e,n,t)}))};for(var i in e.fields)n(i)},o=function(t,e){e.shouldUseNativeValidation&&a(t,e);var n={};for(var r in t){var o=(0,i.U2)(e.fields,r);(0,i.t8)(n,r,Object.assign(t[r],{ref:o&&o.ref}))}return n},s=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),function(s,c,u){try{return Promise.resolve(function(i,o){try{var d=(e.context,Promise.resolve(t["sync"===n.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},e,{context:c}))).then((function(t){return u.shouldUseNativeValidation&&a({},u),{values:n.rawValues?s:t,errors:{}}})))}catch(r){return o(r)}return d&&d.then?d.then(void 0,o):d}(0,(function(t){if(!t.inner)throw t;return{values:{},errors:o((e=t,n=!u.shouldUseNativeValidation&&"all"===u.criteriaMode,(e.inner||[]).reduce((function(t,e){if(t[e.path]||(t[e.path]={message:e.message,type:e.type}),n){var r=t[e.path].types,a=r&&r[e.type];t[e.path]=(0,i.KN)(e.path,n,t,e.type,a?[].concat(a,e.message):e.message)}return t}),{})),u)};var e,n})))}catch(r){return Promise.reject(r)}}}}}]);
//# sourceMappingURL=638.6153e157.chunk.js.map