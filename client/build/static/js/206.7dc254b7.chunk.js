"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[206],{58518:function(n,e,t){t.d(e,{Z:function(){return _}});var i=t(1413),r=t(5289),a=t(65661),o=t(39157),c=t(20890),s=t(63366),u=t(87462),l=t(72791),d=t(59278),f=t(94419),m=t(66934),g=t(61020),h=t(75878),v=t(21217);function p(n){return(0,v.ZP)("MuiDialogActions",n)}(0,h.Z)("MuiDialogActions",["root","spacing"]);var x=t(80184),Z=["className","disableSpacing"],j=(0,m.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,!t.disableSpacing&&e.spacing]}})((function(n){var e=n.ownerState;return(0,u.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),y=l.forwardRef((function(n,e){var t=(0,g.i)({props:n,name:"MuiDialogActions"}),i=t.className,r=t.disableSpacing,a=void 0!==r&&r,o=(0,s.Z)(t,Z),c=(0,u.Z)({},t,{disableSpacing:a}),l=function(n){var e=n.classes,t={root:["root",!n.disableSpacing&&"spacing"]};return(0,f.Z)(t,p,e)}(c);return(0,x.jsx)(j,(0,u.Z)({className:(0,d.Z)(l.root,i),ownerState:c,ref:e},o))})),C=t(94294);function _(n){var e=n.confirmDialog,t=n.setConfirmDialog;return(0,x.jsxs)(r.Z,{open:e.isOpen,children:[(0,x.jsx)(a.Z,{children:e.title}),(0,x.jsx)(o.Z,{children:(0,x.jsx)(c.Z,{variant:"h6",children:e.subTitle})}),(0,x.jsxs)(y,{children:[(0,x.jsx)(C.Z,{onClick:function(){return t((0,i.Z)((0,i.Z)({},e),{},{isOpen:!1}))},children:"No"}),(0,x.jsx)(C.Z,{onClick:e.onConfirm,children:"Yes"})]})]})}},42962:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var i=t(89164),r=t(36314),a=t(57621),o=t(9585),c=t(697),s=t(6907),u=t(53919),l=t(1413),d=t(29439),f=t(72791),m=t(94420),g=t(94294),h=t(93433),v=t(44695),p=t(61134),x=t(81724),Z=t(41231),j=t(5324),y=t(6522),C=t(85834),_=t(16211),w=t(80184),b=x.Ry().shape({name:x.Z_().required("Name is required"),description:x.Z_().required("Description is required"),status:x.Z_().required("Status is required"),categories_id:x.Z_().required("Category is required"),details:x.Z_().required("Details are required")}),k=[{id:"Active",title:"Active"},{id:"Draft",title:"Draft"},{id:"Inactive",title:"Inactive"}],S=function(n){var e=n.handleClose,t=n.currentRow,i=(0,m.I0)(),a=(0,f.useState)([]),o=(0,d.Z)(a,2),c=o[0],s=o[1],u=(0,f.useState)([]),l=(0,d.Z)(u,2),x=l[0],S=l[1],N=(0,f.useState)([]),D=(0,d.Z)(N,2),A=D[0],K=D[1],P=(0,m.v9)((function(n){return n.SubCategory.categories})),q=t;(0,f.useEffect)((function(){if(P&&P.length>0){var n=P.map((function(n){return{id:n._id,title:n.name}}));s(n)}}),[P]),(0,f.useEffect)((function(){i((0,_.fV)())}),[i]),(0,f.useEffect)((function(){q.image&&S(q.image)}),[q.image]);var V=(0,p.cI)({resolver:(0,v.X)(b),defaultValues:q}),I=V.handleSubmit;return(0,f.useEffect)((function(){q.image&&S(Array.isArray(q.image)?q.image:[q.image])}),[q.image]),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(Z.Kl,{onClose:e,title:t._id?"Update Product":"Add Product",children:(0,w.jsxs)(y.Z,{methods:V,onSubmit:I((function(n){var t={name:n.name,description:n.description,status:n.status,category:n.categories_id,details:n.details,keywords:["key1","key2"]||0,image:x};n._id?(t.imagesToDelete=A,i((0,C.nM)(n._id,t))):i((0,C.gK)(t)),e()})),children:[(0,w.jsxs)(r.Z,{spacing:4,p:3,children:[(0,w.jsx)(j.au,{name:"name",label:"Name *",autoFocus:!0}),(0,w.jsx)(j.au,{name:"description",label:"Description *"}),(0,w.jsx)(j.Cc,{name:"status",label:"Status *",options:k}),(0,w.jsx)(j.Cc,{name:"categories_id",label:"Category *",options:c}),(0,w.jsx)(j.au,{name:"details",label:"Details *"}),(0,w.jsx)("input",{name:"image",type:"file",onChange:function(n){var e=Array.from(n.target.files).map((function(n){return new Promise((function(e,t){var i=new FileReader;i.onloadend=function(){return e(i.result)},i.onerror=t,i.readAsDataURL(n)}))}));Promise.all(e).then((function(n){S((function(e){return[].concat((0,h.Z)(e),(0,h.Z)(n))}))}))},multiple:!0}),(0,w.jsx)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"20px"},children:x.map((function(n,e){return(0,w.jsxs)("div",{style:{margin:"10px"},children:[(0,w.jsx)("img",{src:n,alt:"img-".concat(e),style:{width:"100px",height:"100px"}}),(0,w.jsx)("div",{children:t._id&&(0,w.jsx)(g.Z,{onClick:function(){return function(n,e){K([].concat((0,h.Z)(A),[n]));var t=x.filter((function(n,t){return t!==e}));S(t)}(n,e)},children:"Delete"})})]},e)}))})]}),(0,w.jsxs)(r.Z,{direction:"row",spacing:1,justifyContent:"flex-end",p:3,children:[(0,w.jsx)(g.Z,{onClick:e,children:"Cancel"}),(0,w.jsx)(g.Z,{type:"submit",variant:"contained",children:t._id?"Update":"Save"})]})]})})})},N=t(43865),D=t(73609),A=t(58518),K={_id:"",name:"",description:"",status:"",image:[],categories_id:"",categories_title:"",details:"",keywords:[],parentCategory:""},P=function(){var n=(0,f.useState)(K),e=(0,d.Z)(n,2),t=e[0],i=e[1],r=(0,f.useState)([]),a=(0,d.Z)(r,2),o=a[0],s=a[1],u=(0,f.useState)(!1),h=(0,d.Z)(u,2),v=h[0],p=h[1],x=(0,m.I0)(),Z=(0,f.useState)({isOpen:!1,title:"",subTitle:"",onConfirm:function(){}}),j=(0,d.Z)(Z,2),y=j[0],_=j[1],b=(0,m.v9)((function(n){return n.Product.products}));(0,f.useEffect)((function(){x((0,C.t2)())}),[x]),(0,f.useEffect)((function(){if(b&&b.length>0){var n=b.map((function(n){var e,t,i,r;return{id:null===n||void 0===n?void 0:n._id,_id:null===n||void 0===n?void 0:n._id,name:null===n||void 0===n?void 0:n.name,description:null===n||void 0===n?void 0:n.description,status:n.status,image:null===n||void 0===n?void 0:n.images,categories_id:null===n||void 0===n||null===(e=n.category)||void 0===e?void 0:e._id,categories_title:null===n||void 0===n||null===(t=n.category)||void 0===t?void 0:t.name,details:null===n||void 0===n?void 0:n.details,keywords:null===n||void 0===n?void 0:n.keywords.join(", "),parentCategory:null===n||void 0===n||null===(i=n.category)||void 0===i||null===(r=i.parentCategory)||void 0===r?void 0:r.name}}));s(n)}}),[b]);var k=function(n){return function(e){e.stopPropagation(),i(n),p(!0)}},P=function(n){return function(e){e.stopPropagation(),_({isOpen:!0,title:"Are you sure you want to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){return q(n)}})}},q=function(n){_((0,l.Z)((0,l.Z)({},y),{},{isOpen:!1})),x((0,C.Ir)(n._id))},V=[{field:"name",headerName:"Name",width:250},{field:"description",headerName:"Description",width:250},{field:"status",headerName:"Status",width:100},{field:"categories_title",headerName:"Category",width:200},{field:"parentCategory",headerName:"parentCategory",width:250},{field:"details",headerName:"Details",width:250},{field:"keywords",headerName:"Keywords",width:250},{field:"actions",headerName:"Actions",width:200,renderCell:function(n){var e=n.row;return(0,w.jsxs)("strong",{children:[(0,w.jsx)(D.Z,{icon:"akar-icons:edit",onClick:k(e)}),(0,w.jsx)(D.Z,{icon:"ant-design:delete-outlined",onClick:P(e)})]})}}];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.Z,{display:"flex",justifyContent:"flex-end",p:1,children:(0,w.jsx)(g.Z,{type:"button",onClick:function(){i(K),p(!0)},className:"add-btn",children:"Add Product"})}),(0,w.jsx)("div",{className:"main-table",children:o.length>0&&(0,w.jsx)(N.Z,{data:o,columns:V,getRowId:function(n){return n.id}})}),v&&(0,w.jsx)(S,{handleClose:function(){p(!1)},currentRow:t}),y.isOpen&&(0,w.jsx)(A.Z,{confirmDialog:y,setConfirmDialog:_})]})};function q(){var n=(0,u.K$)().themeStretch;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.ql,{children:(0,w.jsx)("title",{children:" Page Six "})}),(0,w.jsx)(i.Z,{maxWidth:!n&&"xl",children:(0,w.jsx)(r.Z,{spacing:5,children:(0,w.jsxs)(a.Z,{children:[(0,w.jsx)(o.Z,{title:"Custom",sx:{mb:2}}),(0,w.jsx)(c.Z,{sx:{height:390},children:(0,w.jsx)(P,{})})]})})})]})}},85834:function(n,e,t){t.d(e,{gK:function(){return s},Ir:function(){return l},t2:function(){return c},nM:function(){return u}});var i=t(88307),r=t(75601),a="".concat(r.T,"products/"),o=t(64790),c=function(){return function(n){n((0,o.K4)()),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.Z.get(a,n)}().then((function(e){n((0,o.Hl)(e.data))})).catch((function(e){n((0,o.iO)(e.message))}))}},s=function(n){return function(e){e((0,o.K4)()),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.post(a,n,e)}(n).then((function(n){e((0,o.NV)(n.data)),e(c())})).catch((function(n){e((0,o.Ak)(n.message))}))}},u=function(n,e){return function(t){t((0,o.K4)()),function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.Z.put("".concat(a).concat(n),e,t)}(n,e).then((function(n){t((0,o.j7)(n.data)),t(c())})).catch((function(n){t((0,o.Ak)(n.message))}))}},l=function(n){return function(e){e((0,o.K4)()),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.Delete("".concat(a).concat(n),e)}(n).then((function(){e((0,o.Bl)(n)),e(c())})).catch((function(n){e((0,o.Ak)(n.message))}))}}},16211:function(n,e,t){t.d(e,{ql:function(){return s},_L:function(){return l},fV:function(){return c},Sv:function(){return u}});var i=t(88307),r=t(75601),a="".concat(r.T,"categories/"),o=t(91563),c=function(){return function(n){n((0,o.K4)()),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.Z.get(a,n)}().then((function(e){n((0,o.Nl)(e.data))})).catch((function(e){n((0,o.Tj)(e.message))}))}},s=function(n){return function(e){e((0,o.K4)()),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.post(a,n,e)}(n).then((function(n){e((0,o.gQ)(n.data)),e(c())})).catch((function(n){e((0,o.Ak)(n.message))}))}},u=function(n,e){return function(t){t((0,o.K4)()),function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.Z.put("".concat(a).concat(n),e,t)}(n,e).then((function(n){t((0,o.IZ)(n.data)),t(c())})).catch((function(n){t((0,o.Ak)(n.message))}))}},l=function(n){return function(e){e((0,o.K4)()),function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.Delete("".concat(a).concat(n),e)}(n).then((function(){e((0,o._5)(n)),e(c())})).catch((function(n){e((0,o.Ak)(n.message))}))}}},43865:function(n,e,t){t.d(e,{Z:function(){return o}});var i=t(81064),r=t(70039),a=t(80184);function o(n){var e=n.data,t=n.columns;return(0,a.jsx)(i._,{disableSelectionOnClick:!0,rows:e,columns:t,pagination:!0,components:{Toolbar:r.n},slots:{toolbar:r.n}})}},44695:function(n,e,t){t.d(e,{X:function(){return c}});var i=t(61134),r=function(n,e,t){if(n&&"reportValidity"in n){var r=(0,i.U2)(t,e);n.setCustomValidity(r&&r.message||""),n.reportValidity()}},a=function(n,e){var t=function(t){var i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?r(i.ref,t,n):i.refs&&i.refs.forEach((function(e){return r(e,t,n)}))};for(var i in e.fields)t(i)},o=function(n,e){e.shouldUseNativeValidation&&a(n,e);var t={};for(var r in n){var o=(0,i.U2)(e.fields,r);(0,i.t8)(t,r,Object.assign(n[r],{ref:o&&o.ref}))}return t},c=function(n,e,t){return void 0===e&&(e={}),void 0===t&&(t={}),function(c,s,u){try{return Promise.resolve(function(i,o){try{var l=(e.context,Promise.resolve(n["sync"===t.mode?"validateSync":"validate"](c,Object.assign({abortEarly:!1},e,{context:s}))).then((function(n){return u.shouldUseNativeValidation&&a({},u),{values:t.rawValues?c:n,errors:{}}})))}catch(r){return o(r)}return l&&l.then?l.then(void 0,o):l}(0,(function(n){if(!n.inner)throw n;return{values:{},errors:o((e=n,t=!u.shouldUseNativeValidation&&"all"===u.criteriaMode,(e.inner||[]).reduce((function(n,e){if(n[e.path]||(n[e.path]={message:e.message,type:e.type}),t){var r=n[e.path].types,a=r&&r[e.type];n[e.path]=(0,i.KN)(e.path,t,n,e.type,a?[].concat(a,e.message):e.message)}return n}),{})),u)};var e,t})))}catch(r){return Promise.reject(r)}}}}}]);
//# sourceMappingURL=206.7dc254b7.chunk.js.map