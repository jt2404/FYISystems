"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[450],{58518:function(t,n,e){e.d(n,{Z:function(){return C}});var i=e(1413),r=e(5289),a=e(65661),o=e(39157),c=e(20890),u=e(63366),s=e(87462),d=e(72791),l=e(59278),f=e(94419),h=e(66934),p=e(61020),v=e(75878),g=e(21217);function m(t){return(0,g.ZP)("MuiDialogActions",t)}(0,v.Z)("MuiDialogActions",["root","spacing"]);var Z=e(80184),x=["className","disableSpacing"],j=(0,h.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(t,n){var e=t.ownerState;return[n.root,!e.disableSpacing&&n.spacing]}})((function(t){var n=t.ownerState;return(0,s.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),_=d.forwardRef((function(t,n){var e=(0,p.i)({props:t,name:"MuiDialogActions"}),i=e.className,r=e.disableSpacing,a=void 0!==r&&r,o=(0,u.Z)(e,x),c=(0,s.Z)({},e,{disableSpacing:a}),d=function(t){var n=t.classes,e={root:["root",!t.disableSpacing&&"spacing"]};return(0,f.Z)(e,m,n)}(c);return(0,Z.jsx)(j,(0,s.Z)({className:(0,l.Z)(d.root,i),ownerState:c,ref:n},o))})),y=e(94294);function C(t){var n=t.confirmDialog,e=t.setConfirmDialog;return(0,Z.jsxs)(r.Z,{open:n.isOpen,children:[(0,Z.jsx)(a.Z,{children:n.title}),(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(c.Z,{variant:"h6",children:n.subTitle})}),(0,Z.jsxs)(_,{children:[(0,Z.jsx)(y.Z,{onClick:function(){return e((0,i.Z)((0,i.Z)({},n),{},{isOpen:!1}))},children:"No"}),(0,Z.jsx)(y.Z,{onClick:n.onConfirm,children:"Yes"})]})]})}},95265:function(t,n,e){e.r(n),e.d(n,{default:function(){return q}});var i=e(89164),r=e(36314),a=e(57621),o=e(9585),c=e(697),u=e(6907),s=e(53919),d=e(1413),l=e(29439),f=e(72791),h=e(94420),p=e(94294),v=e(44695),g=e(61134),m=e(81724),Z=e(41231),x=e(5324),j=e(6522),_=e(16211),y=e(80184),C=m.Ry().shape({name:m.Z_().required("Name is required"),description:m.Z_().required("Description is required"),status:m.Z_().required("Status is required"),categories_id:m.Z_().required("Categories is required")}),b=[{id:"Active",title:"Active"},{id:"Draft",title:"Draft"},{id:"Inactive",title:"Inactive"}],S=function(t){var n=t.handleClose,e=t.currentRow,i=e,a=(0,h.I0)(),o=(0,f.useState)([]),c=(0,l.Z)(o,2),u=c[0],s=c[1],d=(0,h.v9)((function(t){return t.Category.categories}));(0,f.useEffect)((function(){if(d&&d.length>0){var t=d.map((function(t,n){return{id:t._id,title:t.name}}));s(t)}}),[d]);var m=(0,g.cI)({resolver:(0,v.X)(C),defaultValues:i}),S=m.handleSubmit;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(Z.Kl,{onClose:n,title:e._id?"Update Product":"Add Product",children:(0,y.jsxs)(j.Z,{methods:m,onSubmit:S((function(t){var e={name:t.name,description:t.description,status:t.status,parentCategory:null===t||void 0===t?void 0:t.categories_id};t._id?(e._id=t._id,a((0,_.Sv)(t._id,e))):a((0,_.ql)(e)),n()})),children:[(0,y.jsxs)(r.Z,{spacing:4,p:3,className:"css-1lwbda4-MuiStack-root",children:[(0,y.jsx)(x.au,{name:"name",label:"Name *",autoFocus:!0}),(0,y.jsx)(x.au,{name:"description",label:"Description *"}),(0,y.jsx)(x.Cc,{name:"status",label:"Status *",options:b}),(0,y.jsx)(x.Cc,{name:"categories_id",label:"Categories Title *",options:u})]}),(0,y.jsxs)(r.Z,{direction:"row",spacing:1,justifyContent:"flex-end",p:3,children:[(0,y.jsx)(p.Z,{onClick:n,children:"Cancel"}),(0,y.jsx)(p.Z,{type:"submit",variant:"contained",children:e._id?"Update":"Save"})]})]})})})},A=e(43865),w=e(73609),N=e(58518),k=e(60896),D={_id:"",name:"",description:"",status:"",categories_id:"",categories_title:"",createdAt:"",updatedAt:""},P=function(){var t=(0,f.useState)(D),n=(0,l.Z)(t,2),e=n[0],i=n[1],r=(0,f.useState)([]),a=(0,l.Z)(r,2),o=a[0],u=a[1],s=(0,f.useState)(!1),v=(0,l.Z)(s,2),g=v[0],m=v[1],Z=(0,h.I0)(),x=(0,f.useState)({isOpen:!1,title:"",subTitle:""}),j=(0,l.Z)(x,2),C=j[0],b=j[1],P=(0,h.v9)((function(t){return t.SubCategory.categories}));(0,f.useEffect)((function(){Z((0,_.fV)()),Z((0,k.pE)())}),[Z]),(0,f.useEffect)((function(){if(P&&P.length>0){var t=P.map((function(t,n){var e,i;return{id:t._id,_id:t._id,name:t.name,description:t.description,status:t.status,categories_id:null===t||void 0===t||null===(e=t.parentCategory)||void 0===e?void 0:e._id,categories_title:null===t||void 0===t||null===(i=t.parentCategory)||void 0===i?void 0:i.name,createdAt:t.createdAt,updatedAt:t.updatedAt}}));u(t)}}),[P]);var q=[{field:"name",headerName:"Name",width:250},{field:"description",headerName:"Description",width:250},{field:"status",headerName:"Status",width:100},{field:"categories_title",headerName:"categories name",width:200},{field:"createdAt",headerName:"createdAt",width:200},{field:"updatedAt",headerName:"updatedAt",width:200},{field:"action",headerName:"Action",width:100,renderCell:function(t){var n=t.row;return(0,y.jsxs)("strong",{children:[(0,y.jsx)(w.Z,{icon:"akar-icons:edit",onClick:V(n)}),(0,y.jsx)(w.Z,{icon:"ant-design:delete-outlined",onClick:K(n)})]})}}],K=function(t){return function(n){n.stopPropagation(),b({isOpen:!0,title:"Are you sure you want to delete this record?",subTitle:"You can't undo this operation",onConfirm:function(){return function(t){b((0,d.Z)((0,d.Z)({},C),{},{isOpen:!1})),Z((0,_._L)(t._id)),m(!1)}(t)}})}},V=function(t){return function(n){n.stopPropagation(),i(t),m(!0)}};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(c.Z,{display:"flex",justifyContent:"flex-end",p:1,children:(0,y.jsx)(p.Z,{type:"button",onClick:function(){m(!0),i(D)},className:"add-btn",children:"Add Category"})}),(0,y.jsx)("div",{className:"main-table",children:o.length>0&&(0,y.jsx)(A.Z,{data:o,columns:q,getRowId:function(t){return t.id}})}),g&&(0,y.jsx)(S,{handleClose:function(){m(!1)},currentRow:e}),C&&(0,y.jsx)(N.Z,{confirmDialog:C,setConfirmDialog:b})]})};function q(){var t=(0,s.K$)().themeStretch;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.ql,{children:(0,y.jsx)("title",{children:" Page Four | The Prosperity Pioneers"})}),(0,y.jsx)(i.Z,{maxWidth:!t&&"xl",children:(0,y.jsx)(r.Z,{spacing:5,children:(0,y.jsxs)(a.Z,{children:[(0,y.jsx)(o.Z,{title:"Custom",sx:{mb:2}}),(0,y.jsx)(c.Z,{sx:{height:390},children:(0,y.jsx)(P,{})})]})})})]})}},60896:function(t,n,e){e.d(n,{i8:function(){return u},uu:function(){return d},pE:function(){return c},yr:function(){return s}});var i=e(88307),r=e(75601),a="".concat(r.T,"parentCategories/"),o=e(77259),c=function(){return function(t){t((0,o.K4)()),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.Z.get(a,t)}().then((function(n){t((0,o.s$)(n.data))})).catch((function(n){t((0,o.c5)(n.message))}))}},u=function(t){return function(n){n((0,o.K4)()),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.post(a,t,n)}(t).then((function(t){n((0,o.pF)(t.data)),n(c())})).catch((function(t){n((0,o.Ak)(t.message))}))}},s=function(t,n){return function(e){e((0,o.K4)()),function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.Z.put("".concat(a).concat(t),n,e)}(t,n).then((function(t){e((0,o.uo)(t.data)),e(c())})).catch((function(t){e((0,o.Ak)(t.message))}))}},d=function(t){return function(n){n((0,o.K4)()),console.log(t),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.Delete("".concat(a).concat(t),n)}(t).then((function(){n((0,o.ru)(t)),n(c())})).catch((function(t){n((0,o.Ak)(t.message))}))}}},16211:function(t,n,e){e.d(n,{ql:function(){return u},_L:function(){return d},fV:function(){return c},Sv:function(){return s}});var i=e(88307),r=e(75601),a="".concat(r.T,"categories/"),o=e(91563),c=function(){return function(t){t((0,o.K4)()),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i.Z.get(a,t)}().then((function(n){t((0,o.Nl)(n.data))})).catch((function(n){t((0,o.Tj)(n.message))}))}},u=function(t){return function(n){n((0,o.K4)()),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.post(a,t,n)}(t).then((function(t){n((0,o.gQ)(t.data)),n(c())})).catch((function(t){n((0,o.Ak)(t.message))}))}},s=function(t,n){return function(e){e((0,o.K4)()),function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.Z.put("".concat(a).concat(t),n,e)}(t,n).then((function(t){e((0,o.IZ)(t.data)),e(c())})).catch((function(t){e((0,o.Ak)(t.message))}))}},d=function(t){return function(n){n((0,o.K4)()),function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.Z.Delete("".concat(a).concat(t),n)}(t).then((function(){n((0,o._5)(t)),n(c())})).catch((function(t){n((0,o.Ak)(t.message))}))}}},43865:function(t,n,e){e.d(n,{Z:function(){return o}});var i=e(81064),r=e(70039),a=e(80184);function o(t){var n=t.data,e=t.columns;return(0,a.jsx)(i._,{disableSelectionOnClick:!0,rows:n,columns:e,pagination:!0,components:{Toolbar:r.n},slots:{toolbar:r.n}})}},44695:function(t,n,e){e.d(n,{X:function(){return c}});var i=e(61134),r=function(t,n,e){if(t&&"reportValidity"in t){var r=(0,i.U2)(e,n);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},a=function(t,n){var e=function(e){var i=n.fields[e];i&&i.ref&&"reportValidity"in i.ref?r(i.ref,e,t):i.refs&&i.refs.forEach((function(n){return r(n,e,t)}))};for(var i in n.fields)e(i)},o=function(t,n){n.shouldUseNativeValidation&&a(t,n);var e={};for(var r in t){var o=(0,i.U2)(n.fields,r);(0,i.t8)(e,r,Object.assign(t[r],{ref:o&&o.ref}))}return e},c=function(t,n,e){return void 0===n&&(n={}),void 0===e&&(e={}),function(c,u,s){try{return Promise.resolve(function(i,o){try{var d=(n.context,Promise.resolve(t["sync"===e.mode?"validateSync":"validate"](c,Object.assign({abortEarly:!1},n,{context:u}))).then((function(t){return s.shouldUseNativeValidation&&a({},s),{values:e.rawValues?c:t,errors:{}}})))}catch(r){return o(r)}return d&&d.then?d.then(void 0,o):d}(0,(function(t){if(!t.inner)throw t;return{values:{},errors:o((n=t,e=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(n.inner||[]).reduce((function(t,n){if(t[n.path]||(t[n.path]={message:n.message,type:n.type}),e){var r=t[n.path].types,a=r&&r[n.type];t[n.path]=(0,i.KN)(n.path,e,t,n.type,a?[].concat(a,n.message):n.message)}return t}),{})),s)};var n,e})))}catch(r){return Promise.reject(r)}}}}}]);
//# sourceMappingURL=450.2c1102ba.chunk.js.map